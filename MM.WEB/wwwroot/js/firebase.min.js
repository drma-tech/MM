"use strict";const firebaseConfig={apiKey:"AIzaSyB2EgEuxbPvK5KMS0v7xWI-HepzaIe0h1c",authDomain:"auth.modern-matchmaker.com",projectId:"modern-matchmaker-a5b31",storageBucket:"modern-matchmaker-a5b31.firebasestorage.app",messagingSenderId:"224690707146",appId:"1:224690707146:web:1a1b235112b69cbaabf233",measurementId:"G-ZKC5YQW77C"};window.initFirebase=()=>{if(typeof firebase=="undefined"){setTimeout(()=>window.initFirebase(),200);return}firebase.initializeApp(firebaseConfig);const n=firebase.auth(),t=firebase.messaging();n.setPersistence(firebase.auth.Auth.Persistence.LOCAL);n.onAuthStateChanged(async n=>{const t=n?await n.getIdToken():null;await invokeDotNetWhenReady("MM.WEB","AuthChanged",t)});window.firebaseAuth={signIn:async t=>{const r={google:new firebase.auth.GoogleAuthProvider,apple:new firebase.auth.OAuthProvider("apple.com"),facebook:new firebase.auth.FacebookAuthProvider,microsoft:new firebase.auth.OAuthProvider("microsoft.com"),yahoo:new firebase.auth.OAuthProvider("yahoo.com"),x:new firebase.auth.TwitterAuthProvider},i=r[t];if(!i)throw new Error(`Unsupported provider: ${t}`);try{window.location.hostname==="localhost"?await n.signInWithPopup(i):await n.signInWithRedirect(i)}catch(u){throw new Error(u.message);}},signOut:async()=>{try{await n.signOut()}catch(t){throw new Error(t.message);}},getUser:()=>n.currentUser};t.onMessage(n=>{if(Notification.permission==="granted"){const{title:t,body:i}=n.data||{};new Notification(t,{body:i})}})};window.initFirebase();